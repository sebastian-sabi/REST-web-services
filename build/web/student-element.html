
<link rel="import" href="components/paper-input/paper-input.html">
      
      
<dom-module id="student-element">
    
    <template>
        
        <!-- CSS rules for your element -->
        <!-- CSS rules for your element -->
        <style is="custom-style">
            paper-button.custom {
                --paper-button-ink-color: var(--paper-pink-a200);
                /* These could also be individually defined for each of the
                specific css classes, but we'll just do it once as an example */
                --paper-button-flat-keyboard-focus: {
                    background-color: var(--paper-pink-a200);
                    color: white !important;
                };
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--paper-pink-a200) !important;
                    color: white !important;
                };
            }
            paper-button.custom:hover {
                background-color: var(--paper-indigo-100);
            }
            paper-button.pink {
                color: var(--paper-pink-a200);
            }
            paper-button.indigo {
                background-color: var(--paper-indigo-500);
                color: white;
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--paper-pink-a200) !important;
                    color: white !important;
                };
            }
            paper-button.green {
                background-color: var(--paper-green-500);
                color: white;
            }
            paper-button.green[active] {
                background-color: var(--paper-red-500);
            }
            paper-button.disabled {
                color: white;
            }
        </style>

        <div style= "font-weight:bolder" >Student Details</div>
        
        <div class="vertical-section centered">
            <paper-input  id="txtFirstname"  label="Firstname" value="[[firstname]]" > </paper-input>
            <paper-input  id="txtLastname"  label="Lastname" value="[[lastname]]"  > </paper-input>
            <paper-input  id="txtAddress" label="Address" value="[[address]]"  > </paper-input>
        </div>
        
        <br><br>
        
        <paper-button class="custom green"  on-click="onClickAction">set value</paper-button>
        <br><br>
        <div style= "color:red" hidden$="{{ isMessagehidden }}" >Student Details updated via REST API</div>

	<iron-ajax 
               id="hello_ajax" 
               method="GET"
	       url="http://localhost:8080/WebApplicationRest/rest/course/student" 
	       content-type="application/json"
               handle-as="json"
	       on-response="_helloResponse">
	</iron-ajax>     

    </template>

    
    

    <script>
        // CONTROLLER
        Polymer({
            is: "student-element",
            // add properties and methods on the element's prototype
            properties: {
                // MODEL
                firstname: String,
                lastname: String,
                address: String,
                
                isMessagehidden: {
                    type:Boolean,
                    value:true
                }
            },
            

            onClickAction: function (e) {
         	this.$.hello_ajax.generateRequest();	
            },
            
            
            _helloResponse: function (request) {
	      	   var value = request.detail.response;
                   this.firstname = value.firstname; 
                   this.lastname = value.lastname; 
                   this.address = value.address; 
                   
                   // show message
                   this.isMessagehidden = false;
            },
            
            
        });
    </script>
    
    
    
    
</dom-module>

